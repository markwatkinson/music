<div class='search-container'>
    <input type='text' data-bind='emptyValue: $root.collection.searchTerm' class='search'/> 
    <a href='#' data-bind="click: function() {$root.collection.searchTerm('')}">Clear</a>
</div>


<ul data-bind="foreach: $root.collection.artists">
    <li draggable='true'
        data-bind="css: {collapsed: !collectionData.expanded()},
            event: {
                dragstart: function(data, event) { 
                    $root.collection.drag(event, $data);
                    return true;
                }
            }
        ">
        <div class='title artist-name' data-bind="event : {click:$root.collection.clickData.click}">
            <span class='expander'> </span>
            <span data-bind="text: name"></span>
        </div>
        <ul data-bind="foreach: albums">
            <li draggable='true'
                data-bind="css: {collapsed: !collectionData.expanded()},
                event: {
                    dragstart: function(data, event) { 
                        $root.collection.drag(event, $data);
                        return true;
                    }
                }">
                <div class="title album-title" 
                    data-bind="event : {click:$root.collection.clickData.click},
                        style: {backgroundImage: 'url(/art/' + $data.path() + '?s=48)'}">
                    <span class='expander'> </span>
                    <span data-bind="text: title"> </span>
                    <span class="text: year"></span>
                </div>
                <ul data-bind="foreach: songs">
                    <li draggable='true'
                        data-bind="css: {collapsed: !collectionData.expanded()}, 
                        click: $root.collection.clickData.click,
                        event: {
                            dragstart: function(data, event) {
                                $root.collection.drag(event, $data);
                                return true;
                            }
                        }"
                    > 
                        <span data-bind="text: title"></span>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>